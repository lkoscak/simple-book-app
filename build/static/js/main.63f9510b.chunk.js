(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,n){e.exports=n(26)},26:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),l=n.n(o),c=n(13),i=n(2),s=n(9),u=n.n(s);var m=function(){return r.a.createElement("h1",{className:"display-5 text-center mt-5 mb-5"},r.a.createElement(u.a,{className:"text-warning",style:{fontSize:45}}),"Simple ",r.a.createElement("span",{className:"text-danger"},"Book App"))},f=n(4),d=n(11);var E=function(e){return r.a.createElement("div",{className:"alert alert-".concat(e.styleClass)},e.message)};var b=function(e){var t=Object(a.useState)({title:"",author:"",description:""}),n=Object(i.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)(!1),s=Object(i.a)(c,2),u=s[0],m=s[1],b=Object(a.useState)(!1),h=Object(i.a)(b,2),p=h[0],v=h[1],g=Object(a.useState)(!1),k=Object(i.a)(g,2),y=k[0],j=k[1];function N(e){var t=e.target,n=t.value,a=t.name;l((function(e){return Object(d.a)({},e,Object(f.a)({},a,n))}))}return r.a.createElement("form",{onSubmit:function(t){""===o.title||""===o.author||""===o.description?(m(!0),j(!0),setTimeout((function(){m(!1),j(!1)}),2e3)):fetch("books",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(t){return e.addBook(t)})).then(void l({title:"",author:"",description:""})).then((function(){v(!0),setTimeout((function(){return v(!1)}),2e3)})).catch((function(e){return console.log("Error adding book to database")})),t.preventDefault()}},u&&r.a.createElement(E,{styleClass:"warning",message:"Please fill all the input fields"}),p&&r.a.createElement(E,{styleClass:"success",message:"Book is saved!"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"title"},"Book title"),r.a.createElement("input",{type:"text",name:"title",className:"form-control",value:o.title,onChange:N})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"author"},"Book author"),r.a.createElement("input",{type:"text",name:"author",className:"form-control",value:o.author,onChange:N})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"description"},"Book description"),r.a.createElement("textarea",{name:"description",cols:"20",rows:"5",className:"form-control",value:o.description,onChange:N})),r.a.createElement("input",{disabled:y,type:"submit",value:"Add Book",className:"btn btn-warning btn-block"}))},h=n(12),p=n.n(h);var v=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.author),r.a.createElement("td",null,e.description),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.deleteBook(e.id)},className:"btn btn-warning"},r.a.createElement(p.a,{fontSize:"small"}))))};var g=function(e){function t(t){fetch("books/".concat(t),{method:"DELETE"}).then(e.removeBook(t))}return r.a.createElement("table",{className:"table table-striped mt-5 mb-5"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null))),r.a.createElement("tbody",null,e.books.map((function(e){return r.a.createElement(v,{key:e._id,id:e._id,title:e.title,author:e.author,description:e.description,deleteBook:t})}))))};function k(){return r.a.createElement("footer",{className:"page-footer font-small",style:{backgroundColor:"#ffa34d"}},r.a.createElement("div",{className:"footer-copyright text-center py-3",style:{color:"white"}},"\xa9 ",(new Date).getFullYear()," by Me"))}var y=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1];return r.a.useEffect((function(){fetch("/books").then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(b,{addBook:function(e){o((function(t){return[].concat(Object(c.a)(t),[e])}))}}),r.a.createElement(g,{books:n,removeBook:function(e){console.log(e),o(n.filter((function(t){return t._id!==e})))}}),r.a.createElement(k,null))};l.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.63f9510b.chunk.js.map